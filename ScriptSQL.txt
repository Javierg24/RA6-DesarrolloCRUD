-- Crear tabla ASIGNATURAS
CREATE TABLE ASIGNATURAS (
    id_asignatura INT PRIMARY KEY,
    nombre VARCHAR(255) NOT NULL
);

-- Crear tabla RESULTADOS
CREATE TABLE RESULTADOS (
    id_resultado INT,
    id_asignatura INT,
    nombre VARCHAR(255) NOT NULL,
    PRIMARY KEY (id_resultado, id_asignatura),
    FOREIGN KEY (id_asignatura) REFERENCES ASIGNATURAS(id_asignatura)
);

-- Crear tabla CRITERIOS
CREATE TABLE CRITERIOS (
    id_criterio INT,
    id_resultado INT,
    id_asignatura INT,
    porcentaje DECIMAL(5,2) NOT NULL,
    nombre VARCHAR(255) NOT NULL,
    PRIMARY KEY (id_criterio, id_resultado, id_asignatura),
    FOREIGN KEY (id_resultado, id_asignatura) REFERENCES RESULTADOS (id_resultado, id_asignatura),
    FOREIGN KEY (id_asignatura) REFERENCES ASIGNATURAS(id_asignatura)
);

INSERT INTO ASIGNATURAS (id_asignatura, nombre) 
VALUES 
(1, 'Matemáticas'),
(2, 'Física'),
(3, 'Química');


INSERT INTO RESULTADOS (id_resultado, id_asignatura, nombre)
VALUES 
(1, 1, 'RA1'),
(2, 1, 'RA2'),
(3, 2, 'RA3'),
(4, 2, 'RA4'),
(5, 3, 'RA5');


INSERT INTO CRITERIOS (id_criterio, id_resultado, id_asignatura, porcentaje, nombre)
VALUES 
(1, 1, 1, 80.00, 'Ejercicio práctico'),
(2, 1, 1, 20.00, 'Examen final'),
(3, 2, 1, 50.00, 'Ejercicio práctico'),
(4, 3, 2, 70.00, 'Ejercicio práctico'),
(5, 4, 2, 30.00, 'Examen final'),
(6, 5, 3, 60.00, 'Ejercicio práctico');

drop table asignatuas;

drop table resultados;

drop table criterios;
